# Project Presentation: Micro-trading Bot

## 1. Motivation

Some months ago, I developed a hardware-based advisory system designed to indicate to the user, via flags, whether buying or selling was advisable for every market movement. The strategy was straightforward: if the accumulated change was higher than the starting point, sell; if lower, buy; otherwise, hold.

The limitation of this system was its inability to adapt to general market trends. To address this, I devised a new strategy based on accumulated change intervals. This approach allows for the identification of undervalued assets to sell them when they generate profit, without necessarily waiting for the price to exceed the absolute starting point. This enables the strategy to operate within the internal fluctuations of a high or low flat market trend without executing erroneous operations.

The key innovation was the implementation of a custom "starting point" for each purchased share. However, managing this volume of information at high frequency is unfeasible for a human trader. This necessity drove the development of an automated micro-trading bot.

## 2. Bot Development

I have developed a system composed of two concurrent programs designed to simulate, with maximum accuracy, the real-world operation of the bot as conceptualized:

The Hands (Execution Module)

This program is responsible for executing operations (during the test bench, it also simulates the broker API). It is written in C++ to ensure maximum speed and error-free order execution, simplifying communication with the API.

The Brain (Logic Module)

This program determines which operations to perform. It is developed in OCaml, a robust functional language chosen to ensure that the thinking logic and data structure management remain stable and crash-proof.

Both modules communicate and exchange orders using pipes.

How the Brain Works

The core of the project lies within the "Brain's" logic, which maintains three persistent data structures between operations:

Accumulated Change: Calculated as past accumulated change * change from last price (formatted where 1.0 = 100%).

Range Map (Hash Map): Keys represent the ranges, and values represent the quantity of shares per range.

Recent Changes Queue: A queue of the last n changes, where n is a customizable variable defining the bot's tolerance to general trends.

For every new price update, the Brain evaluates whether the stock has outperformed the prediction derived from recent movements. If performance is better, it sells; if worse, it buys; if it follows the trend, it holds.

Finally, to determine the volume to buy or sell, it employs a geometric formula to generate a curve. This curve enforces more aggressive operations as the price diverges further from the prediction, maximizing profit on significant moves.

## 3. Product Evaluation

After a full day of test benching, I obtained 76 comparisons between the standard yearly stock market ROI and the ROI generated by my bot.

During analysis, I detected significant outliers where the bot achieved an ROI exceeding 100%. These were discarded due to their statistical improbability. I also excluded the years 2008 and 2009 for all assets, as these were exceptional years of crisis and market liquidity injections. This resulted in a final set of 59 valid observations.

Statistical Results

The confidence intervals for market outperformance are as follows:

ROI Difference (Percentage Points):

Mean Difference: 12.18%

95% Confidence Interval:

$$
[4.71\\% , 19.65\\%]
$$

Efficiency Ratio (Wealth Ratio):

Mean Ratio: 1.13x

95% Confidence Interval:

$$[1.04x , 1.22x]$$

Important Note: I simulated a 0.1% broker commission on purchases. Therefore, both the market and the bot ROIs reflect this reduction in their real ROI. You can find the data for these intervals at “studying_the_bot/no_outlayers_data.csv”.

Based on these intervals, we can state with 95% confidence that the bot outperforms the standard market.

Volatility Analysis

I also investigated the hypothesis that outperformance increases with market volatility. I summed the absolute variation of each year for every stock and compared it against the ROI Difference. The obtained correlation was 31.33%, indicating no strong correlation between these parameters.

However, I observed that outliers tend to appear only when volatility is relatively high, though I currently lack sufficient data to prove this conclusively.
